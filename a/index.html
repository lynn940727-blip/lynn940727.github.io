<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å°¼å…‹æ˜Ÿçš„å†’éšªç”Ÿæ´» RPG</title>
    <title>å°¼å…‹æ˜Ÿçš„å†’éšªç”Ÿæ´» RPG</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f4e8e9;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            color: #89565b;
            /* å…¨åŸŸæ–‡å­—è‰² */
        }

        /* ç‹€æ…‹æ¬„ */
        .status-panel {
            position: fixed;
            top: 10px;
            left: 10px;
            /* å·¦ä¸Šè§’ç•¥åç§» */
            width: 120px;
            /* ç¸®å°å¯¬åº¦ */
            border: 1px solid #89565b;
            border-radius: 18px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.9);
            /* åŠé€æ˜é¿å…æ“‹åœ–ç‰‡ */
            font-size: 12px;
            z-index: 10;
            display: none;
        }


        .status-panel p {
            margin: 4px 0;
        }

        .status-panel span {
            font-weight: bold;
        }

        .status-panel h3 {
            margin-top: 0;
            color: #89565b;
        }

        /* æ¨™é¡Œ */
        h1 {
            margin-top: 60px;
            font-size: clamp(24px, 5vw, 36px);
            /* éš¨è¢å¹•ç¸®æ”¾ */
            text-align: center;
            letter-spacing: 1px;
            transition: all 0.5s ease;
            color: #89565b;
        }

        /* å°¼å…‹æ˜Ÿåœ–ç‰‡ */
        .fixed-image {
            max-width: clamp(120px, 25vw, 200px);
            border-radius: 12px;
            margin: 20px auto;
            display: block;
            transition: all 0.5s ease;
        }

        /* éŠæˆ²è¦å‰‡ + é–‹å§‹æŒ‰éˆ• */
        .rule-box {
            font-size: clamp(14px, 3vw, 15px);
            color: #a58588;
            background: #f7f7f7;
            border-radius: 10px;
            padding: 16px;
            margin-bottom: 20px;
            letter-spacing: 0.5px;
            line-height: 1.6;
            border: 1px solid #89565b;
            width: 90%;
            max-width: 480px;
            text-align: center;
        }

        /* è¡Œå‹•å€ */
        .action-panel {
            border-radius: 12px;
            padding: 20px;
            background: #fefefe;
            margin-bottom: 25px;
            box-sizing: border-box;
            width: 95%;
            max-width: 680px;
            /* æ”¾å¤§éŠæˆ²å€ */
            text-align: center;
            display: none;
            margin-top: 20px;
        }

        /* æŒ‰éˆ• */
        .button {
            padding: 12px 18px;
            margin: 8px 4px;
            cursor: pointer;
            border-radius: 8px;
            border: none;
            background: #c2878b;
            color: #fff;
            font-size: clamp(14px, 4vw, 16px);
            transition: 0.2s;
            display: inline-block;
            white-space: nowrap;
            flex: 1 1 100px;
            /* å½ˆæ€§å¯¬åº¦ */
            min-width: 100px;
        }

        .button:hover {
            background: #d3999d;
        }

        /* äº‹ä»¶æ–‡å­— */
        #event-description {
            font-size: clamp(20px, 4vw, 30px);
            font-weight: bold;
            margin-bottom: 16px;
            letter-spacing: 0.8px;
            color: #89565b;
        }

        /* çµæœé¢æ¿ */
        .result-panel {
            min-height: 80px;
            font-size: clamp(16px, 3vw, 18px);
            margin-top: 16px;
            padding-top: 0;
            color: #89565b;
            text-align: left;
            line-height: 2.2;
            max-width: 95%;
            margin-left: auto;
            margin-right: auto;
            opacity: 0;
            transition: opacity 0.5s ease;
        }


        .bold-text {
            font-weight: bold;
            color: #89565b;
        }
    </style>
</head>

<body>
    <!-- ç‹€æ…‹æ¬„ -->
    <div class="status-panel" id="nick-status">
        <h3>ç‹€æ…‹</h3>
        <p>é«”åŠ›: <span id="energy">80</span>/100</p>
        <p>äººæ°£: <span id="popularity">70</span>/100</p>
        <p>é„°å±…å¿å—åº¦: <span id="skill">60</span>/100</p>
    </div>

    <!-- æ¨™é¡Œ -->
    <h1 id="game-title">å°¼å…‹æ˜Ÿçš„å†’éšªç”Ÿæ´» RPG</h1>

    <!-- å°¼å…‹æ˜Ÿåœ–ç‰‡ -->
    <img src="c.png" alt="å°¼å…‹æ˜Ÿ" class="fixed-image" id="nick-image">

    <!-- éŠæˆ²è¦å‰‡æ–‡å­— + é–‹å§‹æŒ‰éˆ• -->
    <div class="rule-box" id="start-screen">
        ğŸ² é¸æ“‡è¡Œå‹•å¾Œæ“²éª°å­æ±ºå®šçµæœï¼<br>
        æ‰®æ¼”å°¼å…‹æ˜Ÿï¼Œæ¯æ¬¡è¡Œå‹•æœƒå½±éŸ¿é«”åŠ›ã€äººæ°£èˆ‡é„°å±…å¿å—ç¨‹åº¦ï¼Œåšå¥½ç­–ç•¥å®‰æ’å§ï¼<br>
        <button id="start-button" class="button" onclick="startGame()">é–‹å§‹éŠæˆ²</button>
    </div>

    <!-- è¡Œå‹•å€ -->
    <div class="action-panel" id="game-panel">
        <p id="event-description">å°¼å…‹æ˜Ÿæº–å‚™é–‹å•Ÿä»Šæ—¥è¡Œç¨‹ï¼</p>
        <div>
            <button class="button" onclick="chooseAction('å†’éšª')">æ˜Ÿæ‹Œéºµæ¨å»£æ´»å‹•</button>
            <button class="button" onclick="chooseAction('ç›´æ’­')">é–‹ç›´æ’­äº’å‹•</button>
            <button class="button" onclick="chooseAction('ä¼‘æ¯')">å¥½å¥½ä¼‘æ¯</button>
        </div>
        <div class="result-panel" id="result"></div>
    </div>

    <script>
        let nick = { energy: 80, popularity: 70, skill: 60 };

        const events = {
            "å†’éšª": ["è¾¦æ˜Ÿæ‹Œéºµè©¦åƒæœƒè¶…è¾£æŒ‘æˆ°", "å¸¶è‘—æ˜Ÿæ‹Œéºµä¸Šè¡—è·Ÿç²‰çµ²åˆç…§æ¨å»£", "æ˜Ÿæ‹Œéºµè©¦åƒ PK æŒ‘æˆ°è³½ï¼Œäººæ°£çˆ†è¡¨"],
            "ç›´æ’­": ["å¤§å«è¢«é„°å±…æ•²é–€", "ç´„æœƒå¦™æ™ºè¢«ç…è»Š", "å’Œè§€çœ¾å°æˆ°å‚³èªªå°æ±ºè¢«æ‰“çˆ†"],
            "ä¼‘æ¯": ["ç¡å€‹è¦º", "åƒå€‹æ˜Ÿæ‹Œéºµ", "ç§ä¸‹ç©å‚³èªªå°æ±ºæ”¾é¬†ä¸€ä¸‹"]
        };

        function updateStatus() {
            document.getElementById("energy").textContent = nick.energy;
            document.getElementById("popularity").textContent = nick.popularity;
            document.getElementById("skill").textContent = nick.skill;
        }

        function startGame() {
            document.getElementById("game-panel").style.display = "block";
            document.getElementById("nick-status").style.display = "block";
            document.getElementById("start-screen").style.display = "none";

            // æ¨™é¡Œåœ–ç‰‡ç¸®å°
            const title = document.getElementById("game-title");
            const image = document.getElementById("nick-image");
            title.style.fontSize = "30px";  // æ¨™é¡Œç¸®å°
            image.style.maxWidth = "140px"; // åœ–ç‰‡ç¸®å°
            image.style.marginTop = "10px";

            updateStatus();
        }

        function chooseAction(action) {
            if (nick.energy <= 0 || nick.popularity >= 100) return;

            // äº‹ä»¶æ–‡å­—ç›´æ¥æ›´æ–°
            let eventDesc = events[action][Math.floor(Math.random() * events[action].length)];
            document.getElementById("event-description").textContent = `äº‹ä»¶ï¼š${eventDesc}`;

            let dice = Math.floor(Math.random() * 20) + 1;
            let resultLines = [`ä½ æŠ•å‡ºéª°å­: ${dice}ï¼`];

            if (dice <= 5) {
                if (action === "å†’éšª") { nick.energy -= 15; nick.popularity -= 5; resultLines.push("æ¨å»£æœ‰é»æ…˜ï¼Œè¢«ç²‰çµ²åæ§½ğŸ˜µ"); }
                else if (action === "ç›´æ’­") { nick.popularity -= 10; resultLines.push("ç›´æ’­ç•¶æ©Ÿï¼Œäººæ°£ä¸‹é™ğŸ˜³"); }
                else { nick.energy += 3; resultLines.push("ä¼‘æ¯å¤ªå°‘ï¼Œé‚„æ˜¯ç´¯ç´¯ğŸ’¤"); }
            } else if (dice <= 15) {
                if (action === "å†’éšª") { nick.energy -= 20; nick.popularity += 5; resultLines.push("æ¨å»£é †åˆ©ï¼Œäººæ°£å°å‡ğŸ˜Š"); }
                else if (action === "ç›´æ’­") { nick.popularity += 5; nick.energy -= 10; nick.skill -= 10; resultLines.push("ç›´æ’­æ°£æ°›ä¸éŒ¯ğŸ‘"); }
                else { nick.energy += 10; nick.skill += 10; resultLines.push("ä¼‘æ¯å¤ ï¼Œå…ƒæ°£å›ä¾†ğŸ’ª"); }
            } else {
                if (action === "å†’éšª") { nick.energy -= 25; nick.popularity += 10; resultLines.push("æ˜Ÿæ‹Œéºµçˆ†ç´…ğŸ”¥"); }
                else if (action === "ç›´æ’­") { nick.energy -= 20; nick.popularity += 5; nick.skill -= 20; resultLines.push("ä½ ç˜‹ç‹‚å¤§å«ï¼Œäººæ°£çˆ†æ£šâœ¨"); }
                else { nick.energy += 15; nick.skill += 15; resultLines.push("å®Œç¾ä¼‘æ¯ï¼Œæ´»åŠ›æ»¿æ»¿ğŸ’¥"); }
            }

            nick.energy = Math.min(Math.max(nick.energy, 0), 100);
            nick.popularity = Math.min(Math.max(nick.popularity, 0), 100);
            nick.skill = Math.min(Math.max(nick.skill, 0), 100);
            updateStatus();

            // çµæœæ·¡å…¥
            let resultEl = document.getElementById("result");
            resultEl.style.opacity = 0;
            setTimeout(() => {
                if (nick.energy <= 0) { resultLines.push('<span class="bold-text">å¤±æ•—ï¼ğŸ˜´ ä½ éå‹å€’ä¸‹äº†â€¦ éŠæˆ²çµæŸ.</span>'); resultLines.push('<img src="d.png" style="max-width:100px; margin-top:8px;">'); }
                else if (nick.skill <= 0) { resultLines.push('<span class="bold-text">å¤±æ•—ï¼ğŸ˜´ ä½ è¢«å ±è­¦æŠ“èµ°â€¦ éŠæˆ²çµæŸ.</span>'); resultLines.push('<img src="a.png" style="max-width:100px; margin-top:8px;">'); }
                else if (nick.popularity >= 100) { resultLines.push('<span class="bold-text">ğŸ‰ ä½ æˆç‚ºäººæ°£ä¸»æ’­äº†ï¼éŠæˆ²å‹åˆ©ï¼</span>'); resultLines.push('<img src="e.png" style="max-width:100px; margin-top:8px;">'); }

                resultEl.innerHTML = resultLines.join("<br>");
                resultEl.style.opacity = 1;
            }, 100);
        }
    </script>
</body>

</html>
